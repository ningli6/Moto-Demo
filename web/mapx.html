<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&libraries=drawing"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<!-- <script src="http://maps.googleapis.com/maps/api/js"></script> -->
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

         <script type="text/javascript">
      var drawingManager;
      var lastShape;
      var map;
        
      function initialize() {
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 3,
          center: new google.maps.LatLng(-25.165, 133.769),
          mapTypeId: google.maps.MapTypeId.ROADMAP,
          disableDefaultUI: true,
          zoomControl: true
        });

        var shapeOptions = {
          strokeWeight: 1,
          strokeOpacity: 1,
          fillOpacity: 0.2,
          editable: false,
          clickable: false,
          strokeColor: '#3399FF',
          fillColor: '#3399FF'
        };
        
        // create marker
        var m1 = new google.maps.Marker({
            position: new google.maps.LatLng(-25.165, 133.769),
            map: map,
            title: 'Hello Australia!'
        });
        
        // create a drawing manager attached to the map to allow the user to draw
        // markers, lines, and shapes.
        drawingManager = new google.maps.drawing.DrawingManager({
          drawingMode: null,
          drawingControlOptions: {drawingModes: [google.maps.drawing.OverlayType.RECTANGLE]},
          rectangleOptions: shapeOptions,
          map: map
        });

        google.maps.event.addListener(drawingManager, 'overlaycomplete', function(e) {
            if (lastShape != undefined) {
                    lastShape.setMap(null);
            }

            lastShape = e.overlay;
            lastShape.type = e.type;
            
            if (lastShape.type == google.maps.drawing.OverlayType.RECTANGLE) {
                
                lastBounds = lastShape.getBounds();
                
                $('#bounds').html(lastBounds.toString());
            
                // determine if marker1 is inside bounds:
                if (lastBounds.contains(m1.getPosition())) {
                     $('#inside').html('Yup!');
                } else {
                     $('#inside').html('Nope...');
                }
            
            } 
            
        });

            var shift_draw = false;
            
            $(document).bind('keydown', function(e) {
                if(e.keyCode==16 && shift_draw == false){
                    map.setOptions({draggable: false, disableDoubleClickZoom: true});
                    shift_draw = true; // enable drawing
                    drawingManager.setDrawingMode(google.maps.drawing.OverlayType.RECTANGLE);
                }
                 
            });
            
            $(document).bind('keyup', function(e) {
                if(e.keyCode==16){
                    map.setOptions({draggable: true, disableDoubleClickZoom: true});
                    shift_draw = false // disable drawing
                    drawingManager.setDrawingMode(null);
                }
                 
            });
            
            google.maps.event.addListener(map, 'mousedown', function () {
                if (lastShape != undefined) {
                        lastShape.setMap(null);
                        $('#inside').html('...');
                        $('#bounds').html('...');
                }
            });
            
            google.maps.event.addListener(map, 'drag', function () {
                if (lastShape != undefined) {
                        lastShape.setMap(null);
                        $('#inside').html('...');
                        $('#bounds').html('...');
                }
            });

      }
      
      google.maps.event.addDomListener(window, 'load', initialize);
       
    </script>

<style type="text/css">
#map {
    position: absolute;
    top: 0px; left:0px; right:150px; bottom:0px;
    padding: 0;
    margin: 0;
}
#panel {
    font-size:10pt;
    position: absolute;
    top: 0px; width:150px; right:0px; bottom:0px;
    padding: 0;
    margin: 0;
    background-color:white;
    padding-left:5px;
}
</style>

<div id="map"></div>
<div id="panel">
    <p>Hold down shift to draw a rectangle and show the latlong bounds in this panel. <br/>Alternatively use the buttons on the top-left of the map! </p>
    <b>Is marker inside Path/Bounds:</b><p id="inside">...</p>
    <b>Bounds:</b><p id="bounds">...</p>
</div>